{% extends 'base.html' %} {% block content %}
<h1>{% block title %} Edit Contact {% endblock %}</h1>
<form method="post">
  <div class="form-group">
    <label for="name">Name</label>
    <input
      type="text"
      name="name"
      placeholder="Contact name"
      class={%if 'name' in errors%}"form-control is-invalid"{%else%}"form-control"{%endif%}
      value="{{ request.form['name'] or contact['CONTACT_NAME']  }}"
      required
      maxlength="100"
    />
    {%if 'name' in errors%}
      <span class='invalid-feedback'>{{errors['name']}}</span>
    {%endif%}
  </div>
  <div class="form-group">
    <label for="phone">Phone</label>
    <input
      type="text"
      name="phone"
      placeholder="Phone number"
      class={%if 'phone' in errors%}"form-control is-invalid"{%else%}"form-control"{%endif%}
      value="{{ request.form['phone'] or contact['PHONE']  }}"
      pattern="\d*"
      maxlength="10"
      title="Only numbers allowed for phone number"
    />
    {%if 'phone' in errors%}
      <span class='invalid-feedback'>{{errors['phone']}}</span>
    {%endif%}
  </div>
  <div class="form-group">
    <label for="contact_type">Contact type</label>
    <select
      name="contact_type"
      class={%if 'contact_type' in errors%}"form-control is-invalid"{%else%}"form-control"{%endif%}
      value="{{ request.form['contact_type'] or contact['CONTACT_TYPE']  }}"
    >
      <option value="contact_type1" {{'selected' if (request.form['contact_type'] or contact['CONTACT_TYPE'])=='contact_type1' else ''}}>contact_type1</option>
      <option value="contact_type2" {{'selected' if (request.form['contact_type'] or contact['CONTACT_TYPE'])=='contact_type2' else ''}}>contact_type2</option>
      <option value="contact_type3" {{'selected' if (request.form['contact_type'] or contact['CONTACT_TYPE'])=='contact_type3' else ''}}>contact_type3</option>
    </select>
    {%if 'contact_type' in errors%}
      <span class='invalid-feedback'>{{errors['contact_type']}}</span>
    {%endif%}
  </div>
  <div class="form-group">
    <label for="birthdate">Birth date</label>
    <input
      type="date"
      name="birthdate"
      placeholder="birth date"
      class={%if 'birthdate' in errors%}"form-control is-invalid"{%else%}"form-control"{%endif%}
      value="{{ request.form['birthdate'] or contact['BIRTHDATE']  }}"
      required
    />
    {%if 'birthdate' in errors%}
      <span class='invalid-feedback'>{{errors['birthdate']}}</span>
    {%endif%}
  </div>
  <div class="form-group">
    <label for="description">Description</label>
    <textarea
      id="summernote"
      name="description"
      placeholder="Contact description"
      class="form-control"
    >
{{ request.form['description'] or contact['DESCR']  }}
</textarea>
  </div>
  <div class="form-group">
    <button type="submit" class="btn btn-primary">Save</button>
  </div>
</form>
{% endblock %}
